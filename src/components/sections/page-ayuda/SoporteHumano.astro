---
import Button from "@components/ui/Button.astro";
import Icon from "@components/ui/Icon.astro";
import ContainerSection from "@components/ui/ContainerSection.astro";
import SectionHeading from "@components/ui/SectionHeading.astro";
import { Image } from "astro:assets";

// Imagen de soporte
import imgReferidos from "@assets/shared/campaña-referidos.webp";

const btnMensajes = [
  {
    text: "Enviar un email",
    icon: "mail",
    variant: "primary",
    href: "mailto:elgordito.operaciones@gmail.com.com",
    class: "flex gap-2 shadow-xl shadow-primary-600/20",
    target: "_blank",
  },
  {
    text: "Chatear con un asesor",
    icon: "whatsapp",
    variant: "whatsapp",
    href: "https://wa.me/51981263235",
    class: "font-bold flex gap-2 justify-center items-center",
    target: "_blank",
  },
] as const;
---

<ContainerSection
  ariaLabelledby="title-support-help"
  classContainer="flex flex-col lg:flex-row items-center gap-12 lg:gap-20"
>
  <div class="w-full lg:w-1/2 relative order-2 lg:order-1">
    <div
      class="absolute -inset-4 bg-primary-100/50 rounded-[3rem] rotate-3 -z-10"
      aria-hidden="true"
    >
    </div>

    <div
      class="relative rounded-[2.5rem] overflow-hidden shadow-2xl shadow-primary-900/10 bg-white p-2"
    >
      <Image
        src={imgReferidos}
        alt="Dos personas compartiendo beneficios a través de la app de El Gordito"
        width={700}
        height={500}
        class="w-full h-auto object-cover rounded-[2.2rem] transition-transform duration-700 hover:scale-105"
        loading="lazy"
      />

      <div
        class="absolute bottom-6 right-6 bg-white p-4 rounded-2xl shadow-xl flex items-center gap-3 animate-bounce-slow"
        aria-label="Premio por referido: Cupón VIP"
      >
        <div
          class="size-10 bg-secondary-100 rounded-full flex items-center justify-center"
          aria-hidden="true"
        >
          <Icon
            name="icon-hand-coin"
            class="text-secondary-600 size-6"
            aria-hidden="true"
          />
        </div>
        <div>
          <p class="text-[10px] uppercase font-black text-neutral-400 mb-0">
            Recompensa
          </p>
          <p class="text-sm font-bold text-neutral-900 italic mb-0">
            Tasa VIP Activada
          </p>
        </div>
      </div>
    </div>
  </div>

  <article
    class="w-full lg:w-1/2 flex flex-col items-center lg:items-start text-center lg:text-left order-1 lg:order-2 gap-6"
  >
    <SectionHeading
      id="title-support-help"
      shortText="Soporte 100% humano"
      title="Olvídate de los chatbots."
      subtitle="Habla con expertos reales"
      description="En ##El Gordito## entendemos que tu dinero es prioridad. Por eso, no usamos respuestas automáticas ni bots confusos. Al contactarnos, ##te atenderá un agente especializado## que conoce el sistema bancario peruano y resolverá tu caso de forma personalizada."
      align="left"
    />

    <div
      class="text-primary-600 font-medium flex items-center justify-center text-left lg:justify-start gap-2"
    >
      <Icon name="check-circle" class="size-5" aria-hidden="true" />
      <p class="mb-0">
        <strong>Horario de Atención:</strong>
        <span class="block">Lunes - Viernes: 8:00 AM - 8:00 PM</span>
      </p>
    </div>

    <nav
      class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto"
      aria-label="Acciones de soporte"
    >
      {
        btnMensajes.map((btn) => (
          <Button
            href={btn.href}
            variant={btn.variant}
            class={btn.class}
            target={btn.target}
          >
            <Icon name={btn.icon} aria-hidden="true" />
            {btn.text}
          </Button>
        ))
      }
    </nav>
  </article>
</ContainerSection>

<style>
  @reference "../../../styles/global.css";

  .animate-bounce-slow {
    animation: bounce-slow 4s infinite ease-in-out;
  }

  @keyframes bounce-slow {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-12px);
    }
  }
</style>
