---
import SectionHeading from "@/components/ui/SectionHeading.astro";
import ContainerSection from "@/components/ui/ContainerSection.astro";
import Carousel from "@/components/ui/Carousel.astro";
import { Image } from "astro:assets";

// Iconos
import iconHorario from "@assets/icons/icon-horario.webp"
import iconSoporte from "@assets/icons/icon-soporte.webp"
import iconAhorro from "@assets/icons/icon-ahorro.webp"
import iconSeguridad from "@assets/icons/icon-seguridad.webp"

const cardsVentajas = [
  {
    title: 'Horario Extendido',
    subtitle: '(7 AM - 11 PM)',
    description: 'Cambiamos cuando los demás cierran. La tasa que necesitas, incluso de noche.',
    image: iconHorario,
    accent: 'border-primary-400'
  },
  {
    title: 'Soporte Humano',
    subtitle: 'Vía WhatsApp',
    description: 'Sin bots ni esperas. Un asesor real te acompaña en cada paso de tu operación.',
    image: iconSoporte,
    accent: 'border-success-500'
  },
  {
    title: 'Ahorro Real',
    subtitle: 'Frente al Banco',
    description: 'Recibe más soles por tus dólares. Sin comisiones ocultas ni sorpresas.',
    image: iconAhorro,
    accent: 'border-secondary-500'
  },
  {
    title: 'Seguridad Total',
    subtitle: 'SBS y UIF',
    description: 'Operaciones 100% bancarizadas y supervisadas. Tu dinero siempre seguro.',
    image: iconSeguridad,
    accent: 'border-primary-600'
  }
];
---

<ContainerSection
  ariaLabelledby="titulo-por-que-elegirnos"
  class="bg-neutral-cool-50"
>
  <SectionHeading
    id="titulo-por-que-elegirnos"
    shortText="Ventajas Exclusivas"
    title="Mucho más que un"
    subtitle="tipo de cambio"
    description="Diseñamos una experiencia pensando en lo que realmente te importa: **tu tiempo, tu seguridad y tu dinero.**"
    align="center"
    class="mb-8"
  />

  <Carousel
    data={cardsVentajas}
    visibleDesktop={4}
    hasOverflow={true}
  >
    {cardsVentajas.map((card) => (
      <article class="group h-full pb-4">
        <div class="relative flex flex-col items-center text-center bg-white rounded-3xl p-8 pt-16 h-full border border-neutral-cool-100 shadow-sm transition-all duration-500 hover:shadow-2xl hover:shadow-primary-900/10 hover:-translate-y-2">
          
          <div class:list={["absolute top-0 left-1/2 -translate-x-1/2 w-24 h-1.5 rounded-b-full bg-linear-to-r", card.accent.replace('border', 'from') + " to-transparent"]}></div>

          <div class="absolute -top-12 left-1/2 -translate-x-1/2 w-28 h-28 md:w-32 md:h-32 drop-shadow-[0_20px_20px_rgba(0,0,0,0.15)] transition-transform duration-500 group-hover:scale-110 group-hover:-rotate-3">
            <Image
              src={card.image}
              alt={card.title}
              width={160}
              height={160}
              loading="lazy"
              class="w-full h-full object-contain"
            />
          </div>

          <div class="flex flex-col h-full mt-4">
            <h3 class="text-lg font-bold text-primary-950 leading-tight">
              {card.title}
              <span class="block text-sm font-medium text-primary-500 mt-1">{card.subtitle}</span>
            </h3>
            
            <div class="w-8 h-1 bg-secondary-400 mx-auto my-4 rounded-full opacity-50 group-hover:w-12 transition-all"></div>
            
            <p class="text-neutral-cool-500 text-sm leading-relaxed">
              {card.description}
            </p>
          </div>
        </div>
      </article>
    ))}
  </Carousel>
</ContainerSection>

<style>
  /* Optimizando el renderizado de las sombras en móviles */
  article {
    perspective: 1000px;
  }
</style>