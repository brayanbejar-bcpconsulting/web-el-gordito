---
import Button from "@components/ui/Button.astro";
import Icon from "@components/ui/Icon.astro";
import ContainerSection from "@components/ui/ContainerSection.astro";
import SectionHeading from "@components/ui/SectionHeading.astro";
import { Image } from "astro:assets";
import { APP_URLS } from "@/utils/navigation";

// Imagen de campaña de referidos
import imgReferidos from "@assets/shared/campaña-referidos.webp";
---

<ContainerSection
  ariaLabelledby="referidos-title"
  classContainer="flex flex-col lg:flex-row items-center gap-12 lg:gap-20"
>
  <article class="w-full lg:w-1/2 relative order-2 lg:order-1">
    <div
      class="absolute -inset-4 bg-primary-100/50 rounded-[3rem] rotate-3 -z-10"
      aria-hidden="true"
    >
    </div>

    <div
      class="relative rounded-[2.5rem] overflow-hidden shadow-2xl shadow-primary-900/10 bg-white p-2"
    >
      <Image
        src={imgReferidos}
        alt="Dos personas compartiendo beneficios a través de la app de El Gordito"
        width={700}
        height={500}
        loading="lazy"
        class="w-full h-auto object-cover rounded-[2.2rem] transition-transform duration-700 hover:scale-105"
      />

      <div
        class="absolute bottom-6 right-6 bg-white p-4 rounded-2xl shadow-xl flex items-center gap-3 animate-bounce-slow"
        aria-label="Premio por referido: Cupón VIP"
      >
        <div
          class="size-10 bg-secondary-100 rounded-full flex items-center justify-center"
          aria-hidden="true"
        >
          <Icon
            name="icon-hand-coin"
            class="text-secondary-600 size-6"
            aria-hidden="true"
          />
        </div>
        <div>
          <p class="text-[10px] uppercase font-black text-neutral-400 mb-0">
            Recompensa
          </p>
          <p class="text-sm font-bold text-neutral-900 italic mb-0">
            Tasa VIP Activada
          </p>
        </div>
      </div>
    </div>
  </article>

  <article
    class="w-full lg:w-1/2 flex flex-col items-center lg:items-start text-center lg:text-left order-1 lg:order-2"
  >
    <SectionHeading
      id="referidos-title"
      shortText="Programa de Referidos"
      title="Comparte el ahorro y "
      subtitle="gana recompensas"
      description="La confianza se comparte. Por cada amigo o empresa que invites a ##El Gordito## y realice su primer cambio, ambos recibirán un cupón de mejora de tasa VIP."
      class="mb-8"
      align="left"
    />

    <div
      class="w-full text-start bg-primary-600/5 border border-primary-100 p-4 rounded-2xl mb-8 flex items-center gap-3 justify-center lg:justify-start"
    >
      <Icon
        name="link-diagonal"
        class="text-primary-600 size-5"
        aria-hidden="true"
      />
      <p class="text-sm font-medium text-neutral-700 mb-0">
        Obtén tu enlace de referido en tu{" "}
        <a
          href={APP_URLS.login}
          class="text-primary-600 font-bold hover:underline"
        >
          perfil de usuario
        </a>
        .
      </p>
    </div>

    <small class="text-neutral-400 italic mb-4">
      * Aplica{" "}
      <a href="/terminos-condiciones">
        <strong>Términos y condiciones *</strong>
      </a>
    </small>

    <nav
      class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto"
      aria-label="Acciones de referido"
    >
      <Button
        variant="primary"
        href={APP_URLS.register}
        class="font-bold shadow-xl shadow-primary-600/20 flex gap-2"
      >
        <Icon name="user" aria-hidden="true" />
        Regístrate Ahora
      </Button>

      <Button
        target="_blank"
        variant="whatsapp"
        href="https://wa.me/51981263235"
        class="font-bold flex gap-2 justify-center items-center"
      >
        <Icon name="whatsapp" class="size-5" aria-hidden="true" /> Consultar Programa
      </Button>
    </nav>
  </article>
</ContainerSection>

<style>
  @reference "../../../styles/global.css";

  .animate-bounce-slow {
    animation: bounce-slow 4s infinite ease-in-out;
  }

  @keyframes bounce-slow {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-12px);
    }
  }
</style>
